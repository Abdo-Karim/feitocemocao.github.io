
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Corrida do Saber</title>
</head>
<body>
  <h1>Corrida do Saber</h1>
  <div id="turnInfo">Clique para jogar üé≤</div>
  <div id="board"></div>
  <div id="questionBox"></div>
  <button onclick="rollDice()">Jogar dado üé≤</button>
  <button onclick="reiniciarJogo()">Reiniciar</button>

  <audio id="somAcerto" src="acerto.mp3" preload="auto"></audio>
  <audio id="somErro" src="erro.mp3" preload="auto"></audio>

  <script>
    const board = document.getElementById("board");
    const questionBox = document.getElementById("questionBox");
    const turnInfo = document.getElementById("turnInfo");
    const somAcerto = document.getElementById("somAcerto");
    const somErro = document.getElementById("somErro");

    const questions = [
      { pergunta: "Quanto √© 5 + 3?", resposta: "8", opcoes: ["6", "8", "9"] },
      { pergunta: "Qual √© a capital do Brasil?", resposta: "Bras√≠lia", opcoes: ["Rio", "Bras√≠lia", "S√£o Paulo"] },
      { pergunta: "Quanto √© 9 - 4?", resposta: "5", opcoes: ["4", "5", "6"] },
      { pergunta: "Quem descobriu o Brasil?", resposta: "Pedro √Ålvares Cabral", opcoes: ["Dom Pedro", "Pedro √Ålvares Cabral", "Tiradentes"] }
    ];

    const totalSquares = 20;
    let currentPlayer = 1;
    let positions = { 1: 0, 2: 0 };

    function criarTabuleiro() {
      for (let i = 0; i < totalSquares; i++) {
        const square = document.createElement("div");
        square.className = "square";
        square.id = "square-" + i;
        square.style.border = "1px solid black";
        square.style.width = "40px";
        square.style.height = "40px";
        square.style.display = "inline-block";
        square.style.boxSizing = "border-box";
        board.appendChild(square);
      }
    }

    function atualizarTabuleiro() {
      document.querySelectorAll(".square").forEach(sq => sq.innerHTML = "");
      for (const player in positions) {
        const pos = positions[player];
        const piece = document.createElement("div");
        piece.style.width = "100%";
        piece.style.height = "100%";
        piece.style.background = player === "1" ? "red" : "blue";
        document.getElementById("square-" + pos).appendChild(piece);
      }
    }

    function exibirPergunta(perguntaObj) {
      questionBox.innerHTML = "";
      const pergunta = document.createElement("p");
      pergunta.textContent = perguntaObj.pergunta;
      questionBox.appendChild(pergunta);

      const opcoesEmbaralhadas = perguntaObj.opcoes
        .map(opcao => ({ texto: opcao, correta: opcao === perguntaObj.resposta }))
        .sort(() => Math.random() - 0.5);

      opcoesEmbaralhadas.forEach(opcao => {
        const botao = document.createElement("button");
        botao.textContent = opcao.texto;
        botao.onclick = () => verificarResposta(opcao.correta);
        questionBox.appendChild(botao);
      });
    }

    function verificarResposta(correta) {
      if (correta) {
        positions[currentPlayer] = Math.min(positions[currentPlayer] + 1, totalSquares - 1);
        somAcerto.play();
      } else {
        positions[currentPlayer] = Math.max(positions[currentPlayer] - 2, 0);
        somErro.play();
      }

      atualizarTabuleiro();
      questionBox.innerHTML = "";

      if (positions[currentPlayer] >= totalSquares - 1) {
        turnInfo.textContent = "Jogador " + currentPlayer + " venceu!";
      } else {
        currentPlayer = currentPlayer === 1 ? 2 : 1;
        turnInfo.textContent = "Vez do Jogador " + currentPlayer;
      }
    }

    function rollDice() {
      const perguntaAleatoria = questions[Math.floor(Math.random() * questions.length)];
      exibirPergunta(perguntaAleatoria);
    }

    function reiniciarJogo() {
      positions = { 1: 0, 2: 0 };
      currentPlayer = 1;
      atualizarTabuleiro();
      questionBox.innerHTML = "";
      turnInfo.textContent = "Clique para jogar üé≤";
    }

    criarTabuleiro();
    atualizarTabuleiro();
    turnInfo.textContent = "Vez do Jogador " + currentPlayer;
  </script>
</body>
</html>
